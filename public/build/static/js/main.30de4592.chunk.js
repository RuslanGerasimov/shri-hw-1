(this["webpackJsonpci-server-client-side"]=this["webpackJsonpci-server-client-side"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n(136)},,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(18),r=n.n(i),o=n(12),s=n(16),l=n(36),u=n(20),m=n(9),d={id:null,repo:"",mainBranch:"",command:"",interval:"",processIsGoing:!1},b={appInitialized:!1},p=(n(49),n(8)),f=n(11),v=n(37),h=n.n(v).a.create({baseURL:"http://localhost:3000/api"}),g=function(e,t){return function(n){h.get("/settings").then((function(t){var a=t.data;n({type:"GET_SETTINGS",payload:{id:a.id,repo:a.repoName,mainBranch:a.mainBranch,command:a.buildCommand,interval:a.period}}),e(!0)})).catch((function(e){t(e),console.log(e)}))}},E=(n(13),n(14),n(1)),y=n(3),j=(n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),function(e){var t=Object(f.f)(),n=Object(E.cn)("Button")({large:!!e.large,primary:!!e.primary,responsive:!!e.responsive}),a=Object(E.cn)("Button","Text"),i=e.text?c.a.createElement("span",{className:a()},e.text):null,r=Object(E.cn)("Button","Icon"),o=e.type?c.a.createElement("span",{className:r({type:e.type})}):null;return c.a.createElement("button",{onClick:e.link?function(){t.push(e.link)}:e.clicked,disabled:e.disabled,type:e.role,className:Object(y.classnames)(n,e.mix)},o,i)}),O=(n(79),n(80),n(81),function(e){var t=e.mix,n=Object(E.cn)("Layout","Content"),a={centered:!!e.centered,mobileFull:!!e.mobileFull,top:e.top};e.noSpace&&(a.noSpace=e.noSpace),e.top&&(a.top=e.top);var i=Object(y.classnames)(n(a),t);return c.a.createElement("div",{className:i},e.children)}),x=(n(82),n(83),n(84),n(85),function(e){var t=Object(E.cn)("ActionCard"),n=Object(E.cn)(t(),"Image"),i=Object(E.cn)(t(),"Description"),r=Object(E.cn)(t(),"Button");return c.a.createElement("div",{className:t()},c.a.createElement("div",{className:n()}),c.a.createElement("div",{className:i()},e.description?e.description:c.a.createElement(a.Fragment,null,"Configure repository connection",c.a.createElement("br",null)," and synchronization settings")),e.button?c.a.createElement("div",{className:r()},e.button):null)}),N=(n(86),n(87),function(e){var t=Object(E.cn)("Theme");return c.a.createElement("div",{className:t({default:!!e.default})},e.children)}),B=(n(88),n(89),function(e){var t=e.mix,n=Object(y.classnames)(Object(E.cn)("Layout")(),t);return c.a.createElement("div",{className:n},e.children)}),I=(n(90),function(e){var t=e.mix,n=Object(y.classnames)(Object(E.cn)("Layout","Wrapper")(),t);return c.a.createElement("div",{className:n},e.children)}),k=(n(91),function(e){var t=e.mix,n=Object(y.classnames)(Object(E.cn)("Layout","Footer")(),t);return c.a.createElement("div",{className:n},e.children)}),S=(n(92),n(93),n(94),n(95),n(96),function(e){var t=Object(E.cn)("Header"),n=Object(E.cn)("Header","Title"),a=Object(E.cn)("Header","Buttons"),i=Object(E.cn)("Header","Button"),r=e.buttons?c.a.createElement("div",{className:a()},e.buttons.map((function(e){return c.a.cloneElement(e,{mix:i()})}))):null,o=Object(y.classnames)(t(),e.mix);return c.a.createElement("div",{className:o},e.title.link?c.a.createElement(p.b,{className:n({logo:"logo"===e.title.type}),to:e.title.link},e.title.text):c.a.createElement("div",{className:n({logo:"logo"===e.title.type})},e.title.text),r)}),C=(n(97),n(98),n(99),n(100),n(101),n(102),function(e){var t=Object(E.cn)("Footer"),n=Object(E.cn)("Footer","Content"),a=Object(E.cn)("Footer","Links"),i=Object(E.cn)("Footer","Item"),r=a({copyright:!0}),o=Object(y.classnames)(t(),e.mix);return c.a.createElement("div",{className:o},c.a.createElement("div",{className:n()},c.a.createElement("div",{className:a()},e.links&&Array.isArray(e.links)?e.links.map((function(e,t){return c.a.createElement("div",{key:e.id?e.id:t,className:i()},e.text)})):null),c.a.createElement("div",{className:r},c.a.createElement("div",{className:i({copyright:!0})},e.copyright?e.copyright:"\xa9 2020 Your Name"))))}),T=function(e){return c.a.createElement(N,{default:!0},c.a.createElement(B,null,c.a.createElement(S,{mix:Object(E.cn)("Layout","Header")(),title:{type:e.header.logo?"logo":"text",text:e.header.text,link:e.header.link},buttons:e.header.buttons}),c.a.createElement(I,null,e.children),c.a.createElement(k,null,c.a.createElement(C,{copyright:"\xa9 2020 Your Name",links:[{id:"Support",text:"Support"},{id:"Learning",text:"Learning"}]}))))},w=function(){var e={logo:!0,text:"School CI Server",link:"/",buttons:[c.a.createElement(j,{link:"/settings",key:"settings",type:"settings",text:"Settings"})]};return c.a.createElement(T,{header:e},c.a.createElement(O,{centered:!0},c.a.createElement(x,{button:c.a.createElement(p.b,{to:"/settings"},c.a.createElement(j,{large:!0,primary:!0,text:"Open settings"}))})))},K=n(39),P=(n(103),n(104),n(105),n(106),n(107),n(108),n(109),n(110),n(111),n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120),function(e){var t=e.value?e.value:"",n=function(t){e.valueChanged(t)},a=Object(E.cn)("InputField"),i=Object(E.cn)(a(),"Label")(),r=Object(E.cn)(a(),"InputBox"),o=Object(E.cn)(a(),"Input"),s=!!t&&t.length>0;return c.a.createElement("div",{className:a({compulsory:!!e.compulsory,inline:!!e.inline,error:!!e.error})},c.a.createElement("label",{htmlFor:e.id,className:i},e.label),c.a.createElement("div",{className:r({clearIcon:s&&e.showClear})},c.a.createElement("input",{id:e.id,type:"text",onChange:function(e){n(e.target.value)},value:t,className:o({fulfilled:s}),placeholder:e.placeholder}),e.showClear?c.a.createElement("div",{onClick:n.bind(null,""),className:Object(E.cn)(a(),"ClearIcon")()}):null),e.unit?c.a.createElement("div",{className:Object(E.cn)(a(),"Unit")()},e.unit):null)}),G=function(e){var t=Object(E.cn)("Form")(),n=Object(E.cn)(t,"Header")(),a=Object(E.cn)(t,"HeaderItem"),i=Object(E.cn)(t,"Footer")();return c.a.createElement("form",{onSubmit:e.submitHandler,onReset:e.resetHandler,className:t},c.a.createElement("div",{className:n},c.a.createElement("div",{className:a({title:!0})},e.title),c.a.createElement("div",{className:a()},e.description)),c.a.createElement("div",{className:"Form-Body"},e.fields.map((function(e){var t=Object(E.cn)("Form","Field"),n=e.topSpace?{verticalSpace:"xs"}:null;return c.a.createElement("div",{key:e.id,className:t(n)},c.a.createElement(P,Object.assign({valueChanged:e.setValue},e)))})),e.result?c.a.createElement("div",{className:Object(E.cn)("Form","Field")()},e.result):null),c.a.createElement("div",{className:i},c.a.createElement(j,{disabled:!e.valid||e.disableButtons,role:"submit",responsive:!0,large:!0,primary:!0,text:"Save",mix:Object(E.cn)(t,"Button")()}),c.a.createElement(j,{disabled:e.disableButtons,role:"reset",responsive:!0,large:!0,text:"Cancel",mix:Object(E.cn)(t,"Button")()})))},F=function(e){return null!==e&&"undefined"!==typeof e&&e.toString().length>0},_=function(e){return"string"!==typeof e&&(e=e.toString()),!e||e.match(/^\d+$/)},A=Object(s.b)((function(e){return{repo:e.settings.repo,mainBranch:e.settings.mainBranch,command:e.settings.command,interval:e.settings.interval,processIsGoing:e.settings.processIsGoing}}),(function(e){return{fetchSettings:function(){e(g())},saveSettings:function(t){return new Promise((function(n,a){e(function(e,t,n){var a=e.repoName,c=e.buildCommand,i=e.mainBranch,r=e.period;return function(e){h.post("/settings",{repoName:a,buildCommand:c,mainBranch:i,period:+r}).then((function(n){t(n.data),e({type:"GET_SETTINGS",payload:{repo:a,mainBranch:i,command:c,interval:r}})})).catch((function(e){n(e.status),console.log(e.data)}))}}(t,n,a))}))},setValue:function(t,n){e(function(e,t){return{type:"SET_SETTING",payload:{type:e,value:t}}}(t,n))},setProcessIsGoing:function(t){e({type:"SETTINGS_API_GOING",payload:{value:!!t}})}}}))((function(e){var t=Object(a.useState)({requestIsProcessing:!1,success:!1,processed:!1}),n=Object(K.a)(t,2),i=n[0],r=n[1],o=[{label:"GitHub repository",placeholder:"user-name/repo-name",showClear:!0,compulsory:!0,type:"text",id:"repo",error:Object(a.useState)(!1),value:e.repo,validators:[F]},{label:"Build command",placeholder:"enter command to run",value:e.command,showClear:!0,compulsory:!0,type:"text",id:"command",error:Object(a.useState)(!1),validators:[F]},{label:"Main branch",placeholder:"master",value:e.mainBranch,showClear:!0,compulsory:!1,type:"text",id:"mainBranch",error:Object(a.useState)(!1)},{label:"Synchronize every",placeholder:"10",value:e.interval,showClear:!1,compulsory:!1,type:"text",inline:!0,unit:"minutes",topSpace:!0,id:"interval",error:Object(a.useState)(!1),validators:[_]}].map((function(e){return Object(m.a)({},e,{error:e.error[0],setError:e.error[1]})})),s=Object(f.f)(),l=o.map((function(t){return Object(m.a)({},t,{valueChanged:function(n){var a=u(t.validators,n);e.setValue(t.id,n),t.setError(!a)}})})),u=function(e,t){var n=!0;return e&&Array.isArray(e)&&e.forEach((function(e){e(t)||(n=!1)})),n},d=l.reduce((function(e,t){return t.error||e}),!1);return c.a.createElement(G,{valid:!d,title:"Settings",result:i.processed?i.success?"\u0420\u0435\u043f\u043e\u0437\u0438\u0442\u0440\u043e\u0438\u0439 \u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e":"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u044f":null,disableButtons:e.processIsGoing,submitHandler:function(t){t.preventDefault(),l.reduce((function(e,t){var n=u(t.validators,t.value);return t.setError(!n),n&&e}),!0)&&(e.setProcessIsGoing(!0),r(Object(m.a)({},i,{requestIsProcessing:!0})),e.saveSettings({repoName:e.repo,buildCommand:e.command,mainBranch:e.mainBranch,period:e.interval}).then((function(t){r({processed:!0,success:!0,requestIsProcessing:!1}),e.setProcessIsGoing(!1)})).catch((function(t){r({processed:!0,success:!1,requestIsProcessing:!1}),e.setProcessIsGoing(!1)})))},resetHandler:function(){s.goBack()},description:"Configure repository connection and synchronization settings.",fields:l})})),H=function(e){return c.a.createElement(T,{header:{logo:!0,text:"School CI Server",link:"/",buttons:[]}},c.a.createElement(O,{top:"l"},c.a.createElement(A,null)))},L=(n(121),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(130),n(131),n(132),n(133),n(134),function(e){var t=Object(E.cn)("IconLabel")({large:!!e.large,out:!!e.out,type:e.type});return c.a.createElement("div",{className:Object(y.classnames)(t,e.mix)},e.children)}),z=function(e){var t=Object(E.cn)("Commit"),n=Object(E.cn)(t(),"Content"),a=Object(E.cn)(t(),"ContentRow"),i=Object(E.cn)(t(),"Item"),r=Object(E.cn)(t(),"CommitId"),o=Object(E.cn)(t(),"DateTimeBox"),s=Object(E.cn)(t(),"DateTime");return c.a.createElement("div",{onClick:e.clicked,className:t({detail:!!e.detail})},c.a.createElement("div",{className:n()},c.a.createElement("div",{className:a()},c.a.createElement(L,{mix:i(),large:!0,out:!0,type:e.type},"#",e.number),c.a.createElement("div",{className:i({title:!0})},e.description)),c.a.createElement("div",{className:a()},c.a.createElement("div",{className:i()},c.a.createElement(L,{type:"branch"},e.branch),c.a.createElement("div",{className:r()},e.hex?e.hex.substring(0,5):null)),c.a.createElement(L,{type:"author",mix:i({author:!0})},e.author))),c.a.createElement("div",{className:o()},c.a.createElement(L,{type:"date",mix:s()},e.date),c.a.createElement(L,{type:"timeInterval",mix:s({interval:!0})},e.interval)))},D=(n(135),function(e){return c.a.createElement("div",{className:Object(E.cn)("Log")()},e.children)}),M={type:"success",number:"1368",description:"add documentation for postgres scaler",branch:"master",hex:"9c9f0b9",author:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",interval:"1 \u0447 20 \u043c\u0438\u043d",log:"Starting type checking and linting service...\n       Using 1 worker with 2048MB memory limit\n       Hash: d54ed20309f352b3bda76cbbb6d272ed6afde438bd7a265eb08db3624c32dfc883a8c379c67f4de6\n       Version: webpack 4.41.6\n       Child\n       Hash: d54ed20309f352b3bda7\n       Time: 40364ms\n       Built at: 2020-02-23 16:04:54\n       Asset      Size  Chunks             Chunk Names\n       0.bundle.static.css  1.31 MiB       0  [emitted]  vendors~main\n       0.bundle.static.js  10.3 MiB       0  [emitted]  vendors~main\n       bundle.static.css  48.6 KiB       1  [emitted]  main\n       bundle.static.js   613 KiB       1  [emitted]  main\n       static/media/Cat.afa2191f.svg  9.83 KiB          [emitted]\n       static/media/illustration.a17c1b18.svg  14.8 KiB          [emitted]\n       static/media/picture.eef6f3b8.svg  16.2 KiB          [emitted]\n       Entrypoint main = 0.bundle.static.css 0.bundle.static.js bundle.static.css bundle.static.js\n       [./node_modules/webpack/buildin/global.js] (webpack)/buildin/global.js 472 bytes {0} [built]\n       [./src/account/actions/index.ts] 2.46 KiB {1} [built]\n       [./src/account/api/lib/models/index.ts] 2.17 KiB {1} [built]\n       [./src/account/api/lib/models/mappers.ts] 21 KiB {1} [built]\n       [./src/account/api/lib/schoolaccountAPI.ts] 4.97 KiB {1} [built]\n       [./src/account/api/lib/schoolaccountAPIContext.ts] 1.73 KiB {1} [built]\n       [./src/account/epics/index.ts] 328 bytes {1} [built]\n       [./src/account/epics/pageData.ts] 834 bytes {1} [built]\n       [./src/account/epics/personalPage.ts] 2.29 KiB {1} [built]\n       [./src/account/epics/registrationForm.ts] 910 bytes {1} [built]\n       [./src/account/index.tsx] 561 bytes {1} [built]\n       [./src/account/reducers/githubRepos.ts] 837 bytes {1} [built]\n       [./src/account/reducers/index.ts] 1.83 KiB {1} [built]\n       [./src/account/reducers/serverError.ts] 526 bytes {1} [built]\n       [./src/account/store.ts] 1.05 KiB {1} [built]\n       + 1864 hidden modules\n       Child\n       Hash: 6cbbb6d272ed6afde438\n       Time: 32877ms\n       Built at: 2020-02-23 16:04:47\n       Asset      Size  Chunks             Chunk Names\n       server.js  6.34 MiB    main  [emitted]  main\n       Entrypoint main = server.js\n       [./src/account/actions/index.ts] 2.46 KiB {main} [built]\n       [./src/account/api/lib/models/index.ts] 2.17 KiB {main} [built]\n       [./src/account/api/lib/models/mappers.ts] 21 KiB {main} [built]\n       [./src/account/api/lib/schoolaccountAPI.ts] 4.97 KiB {main} [built]\n       [./src/account/api/lib/schoolaccountAPIContext.ts] 1.73 KiB {main} [built]\n       [./src/account/epics/index.ts] 328 bytes {main} [built]\n       [./src/account/epics/pageData.ts] 834 bytes {main} [built]\n       [./src/account/epics/personalPage.ts] 2.29 KiB {main} [built]\n       [./src/account/epics/registrationForm.ts] 910 bytes {main} [built]\n       [./src/account/mappers/index.ts] 2.18 KiB {main} [built]\n       [./src/account/reducers/githubRepos.ts] 837 bytes {main} [built]\n       [./src/account/reducers/index.ts] 1.83 KiB {main} [built]\n       [./src/account/reducers/serverError.ts] 526 bytes {main} [built]\n       [./src/account/server.tsx] 1.62 KiB {main} [built]\n       [./src/account/store.ts] 1.05 KiB {main} [built]\n       + 1484 hidden modules"},R=function(e){var t={logo:!1,text:"philip1967/my-awesome-repo",buttons:[c.a.createElement(j,{text:"Rebuild",key:"rebuild",type:"rebuild"}),c.a.createElement(j,{type:"settings",link:"/settings",key:"settings"})]};return c.a.createElement(T,{header:t},c.a.createElement(O,{top:"m",noSpace:"bottom"},c.a.createElement(z,Object.assign({},M,{detail:!0}))),c.a.createElement(O,{mobileFull:!0,noSpace:"top"},c.a.createElement(D,null,M.log)))},V=[{type:"success",number:"1368",description:"add documentation for postgres scaler",branch:"master",hex:"9c9f0b9",author:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",interval:"1 \u0447 20 \u043c\u0438\u043d"},{type:"error",number:"1367",description:"Super cool UI kit for making websites that look like games of old.",branch:"super-cool-ui-kit",hex:"952e5567",author:"Vadim Makeev",date:"21 \u044f\u043d\u0432, 03:06",interval:"1 \u0447 20 \u043c\u0438\u043d"},{type:"waiting",number:"1366",description:"upgrade typescript to 3.8",branch:"master",hex:"b4636ab",author:"Philip Kirkorov",date:"21 \u044f\u043d\u0432, 03:06",interval:"1 \u0447 20 \u043c\u0438\u043d"}],U=function(e){var t=Object(f.f)(),n=function(e){t.push("/build/"+e)},a={logo:!1,text:"philip1967/my-awesome-repo",buttons:[c.a.createElement(j,{text:"Run build",key:"play",type:"play"}),c.a.createElement(j,{link:"/settings",type:"settings",key:"settings"})]};return c.a.createElement(T,{header:a},c.a.createElement(O,{top:"m"},V.map((function(e){return c.a.createElement(z,Object.assign({clicked:n.bind(null,e.hex)},e,{key:e.hex}))}))))};var q=function(){return c.a.createElement(T,{header:{logo:!0,text:"School CI Server",link:"/",buttons:[]}},c.a.createElement(O,{centered:!0},c.a.createElement(x,{description:"Initialization"})))},W=Object(s.b)((function(e){return{initialized:e.main.appInitialized,settingsExists:!!e.settings.id}}),(function(e){return{initApp:function(){e((function(e){new Promise((function(t,n){e(g(t,n))})).then((function(){e({type:"APP_INIT"})}))}))}}}))((function(e){return Object(a.useEffect)((function(){e.initApp()})),c.a.createElement(p.a,null,c.a.createElement(f.c,null,e.initialized?c.a.createElement(a.Fragment,null,c.a.createElement(f.a,{path:"/settings",component:H}),c.a.createElement(f.a,{path:"/build/:id",component:R}),c.a.createElement(f.a,{path:"/logs",component:U}),c.a.createElement(f.a,{path:"/",component:e.settingsExists?U:w})):c.a.createElement(q,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,X=Object(o.c)({main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,n=t.type;t.payload;return"APP_INIT"===n?Object(m.a)({},e,{appInitialized:!0}):e},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;return"GET_SETTINGS"===n?Object(m.a)({},e,{id:a.id,repo:a.repo,mainBranch:a.mainBranch,command:a.command,interval:a.interval}):"SET_SETTING"===n?Object(m.a)({},e,Object(u.a)({},a.type,a.value)):"SETTINGS_API_GOING"===n?Object(m.a)({},e,{processIsGoing:a.value}):e}}),Y=Object(o.e)(X,J(Object(o.a)(l.a)));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,{store:Y},c.a.createElement(W,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[40,1,2]]]);
//# sourceMappingURL=main.30de4592.chunk.js.map